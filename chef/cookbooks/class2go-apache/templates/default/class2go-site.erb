<VirtualHost *:80>
    ServerName <%= @node[:apache][:servername] %>
    UseCanonicalName On

    Alias /robots.txt /opt/class2go/static/robots.txt
    Alias /favicon.ico /opt/class2go/static/graphics/core/favicon.ico

    Alias /static/ /opt/class2go/static/

    <Directory /opt/class2go/static>
        Order deny,allow
        Allow from all
    </Directory>

    WSGIScriptAlias / /home/ubuntu/class2go/main/wsgi.py

    <Directory /home/ubuntu/class2go/main>
    <Files wsgi.py>
        Order deny,allow
        Allow from all
    </Files>
    </Directory>

    WSGIDaemonProcess class2go threads=15 maximum-requests=10000 python-path=/home/ubuntu/class2go/main
    WSGIProcessGroup class2go

    ErrorLog ${APACHE_LOG_DIR}/error.log

    LogFormat "%{X-Forwarded-For}i %l %u %t \"%r\" %>s %O \"%{Referer}i\" \"%{User-Agent}i\" %D" class2go
    CustomLog ${APACHE_LOG_DIR}/access.log class2go

</VirtualHost>
