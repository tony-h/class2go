{% csrf_token %}
{{form.course_prefix}}{{form.course_suffix}}

<<<<<<< HEAD
{{ form.non_field_errors }}
<div class="control-group">
  <label for="id_username" class="control-label">{{form.username.label}}:</label>
  <div class="controls">
    {{form.username.errors}}{{ form.username }}
=======
<div class="control-group">
  <label for="id_username" class="control-label">{{form.username.label}}:</label>
    <div class="controls">
    {{ form.username }}
>>>>>>> 2911604219071e86507e5127d8a20857b1181c6d
    <span class="help-block">Your username is your public identity on this site. You won't be able to change it, so choose a "handle" that you are comfortable with.</span>
  </div>
</div>
<div class="control-group">
  <label for="id_email" class="control-label">{{form.email.label}}:</label>
  <div class="controls">
<<<<<<< HEAD
    {{form.email.errors}}{{ form.email }}
=======
    {{ form.email }}
>>>>>>> 2911604219071e86507e5127d8a20857b1181c6d
  </div>
</div>
<div class="control-group">
  <label for="id_first_name" class="control-label">{{form.first_name.label}}:</label>
  <div class="controls">
<<<<<<< HEAD
    {{form.first_name.errors}}{{ form.first_name }}
=======
    {{ form.first_name }}
>>>>>>> 2911604219071e86507e5127d8a20857b1181c6d
  </div>
</div>
<div class="control-group">
  <label for="id_last_name" class="control-label">{{form.last_name.label}}:</label>
  <div class="controls">
<<<<<<< HEAD
    {{form.last_name.errors}}{{ form.last_name }}
=======
    {{ form.last_name }}
>>>>>>> 2911604219071e86507e5127d8a20857b1181c6d
  </div>
</div>
<div class="control-group">
  <label for="id_password1" class="control-label">{{form.password1.label}}:</label>
  <div class="controls">
<<<<<<< HEAD
    {{form.password1.errors}}{{ form.password1 }}
=======
    {{ form.password1 }}
>>>>>>> 2911604219071e86507e5127d8a20857b1181c6d
  </div>
</div>
<div class="control-group">
  <label for="id_password2" class="control-label">{{form.password2.label}}:</label>
  <div class="controls">
<<<<<<< HEAD
    {{form.password2.errors}}{{ form.password2 }}
=======
    {{ form.password2 }}
>>>>>>> 2911604219071e86507e5127d8a20857b1181c6d
  </div>
</div>
<div class="control-group">
  <label for="id_birth_year" class="control-label">{{form.birth_year.label}}:</label>
  <div class="controls">
<<<<<<< HEAD
    {{form.birth_year.errors}}{{ form.birth_year }}
=======
    {{ form.birth_year }}
>>>>>>> 2911604219071e86507e5127d8a20857b1181c6d
  </div>
</div>
<div class="control-group">
  <label for="id_gender" class="control-label">{{form.gender.label}}:</label>
  <div class="controls">
<<<<<<< HEAD
    {{form.gender.errors}}{{ form.gender }}
  </div>
</div>
<div class="control-group">
  <label for="id_gender" class="control-label">{{form.gender.label}}:</label>
  <div class="controls">
    {{form.gender.errors}}{{ form.gender }}
=======
    {{ form.gender }}
>>>>>>> 2911604219071e86507e5127d8a20857b1181c6d
  </div>
</div>
<div class="control-group">
  <label for="id_education" class="control-label">{{form.education.label}}:</label>
  <div class="controls">
<<<<<<< HEAD
    {{form.education.errors}}{{ form.education }}
=======
    {{ form.education }}
>>>>>>> 2911604219071e86507e5127d8a20857b1181c6d
  </div>
</div>
<div class="control-group">
  <label for="id_work" class="control-label">{{form.work.label}}:</label>
  <div class="controls">
<<<<<<< HEAD
    {{form.work.errors}}{{ form.work }}
  </div>
</div>
=======
    {{ form.work }}
  </div>
</div>


<script>
    
        $(function(){
          
                 function setupPopover(id,title_in,errorMsg){
                      var options = {
                          placement:'left',
                          trigger:'manual',
                          title:title_in,
                          content:errorMsg,
                          delay:300,
                       };
          
                 $('#'+id).popover(options);
                 $('#'+id).popover('show');
          
                 };
           
                 {% for key, value in form.errors.items %}
                   {% if not key == "__all__" %}
          
                     errorMsg_{{key}}="{% for e in value %}<p>{{ e }}</p>{% endfor %}";
                     setupPopover("id_{{key}}", "{{key}}".charAt(0).toUpperCase()+"{{key}}".slice(1), errorMsg_{{key}});
                     $('#id_{{key}}').data('popover').$tip.click(function(){$('#id_{{key}}').popover('hide');});
          
                     {% if not key == "tos" %}
                       $('#id_{{key}}').focus(function(){$('#id_{{key}}').popover('hide');});
                     {% else %}
                       $('#id_{{key}}').click(function(){$('#id_{{key}}').popover('hide');});
                     {% endif %}
          
                   {% endif %}
                 {% endfor %}
           
                 {% for error in form.non_field_errors %}
                   {% if 'password' in error %}
                     if ($('#id_password1').data('popover')) {
                        $('#id_password1').data('popover').options.content += "<p>{{error}}</p>";
                        $('#id_password1').popover('show');
                     }
                     else {
                        setupPopover('id_password1','Password','<p>{{error}}</p>');
                     }
                     $('#id_password1').data('popover').$tip.click(function(){$('#id_password1').popover('hide');});
                     $('#id_password1').focus(function(){$('#id_password1').popover('hide');});
                   {% endif %}
                 {% endfor %}
              
                 $('.arrow').css('border-left-color','red');
          
        });
</script>

<style>
        .popover {color:red;}
        .arrow {color:red;border-left-color:red;}
        .popover-inner {color:red; background-color:red; border-width:1px}
        .popover-title{padding:5px;margin-bottom:0px}
        .popover-content{padding:5px}
</style>


>>>>>>> 2911604219071e86507e5127d8a20857b1181c6d
